# .claw/ — ClawDE Canonical Governance Directory

`.claw/` is the tool-agnostic governance directory for ClawDE-managed projects.
All AI agents (Claude Code, Codex, Cursor, custom) read from here.
Individual tool directories (`.claude/`, `.codex/`, `.cursor/`) are thin adapters.

## Required Structure

```text
.claw/
├── README.md           # This file
├── tasks/              # Per-task event logs and specs
│   └── <task-id>/
│       ├── task.yaml           # Task spec
│       ├── events.jsonl        # Append-only event log
│       └── checkpoints/        # Periodic state snapshots
├── policies/           # Governance rules
│   ├── tool-risk.json          # Tool risk classification
│   └── mcp-trust.json          # MCP server trust registry
├── templates/          # Agent prompt templates
│   ├── agent-control.md
│   ├── agent-router.md
│   ├── agent-implementer.md
│   ├── agent-reviewer.md
│   └── agent-qa.md
├── evals/              # Regression test fixtures
│   └── datasets/
├── telemetry/          # Observability traces (local only, gitignored)
│   └── traces.jsonl
└── worktrees/          # Per-task Git worktrees (gitignored)
    └── <task-id>/
```

## What NOT to commit

See `.claw/.gitignore`. Worktrees and telemetry are local only.

## Agent workflows

1. Before editing any files: claim a task from `tasks/<id>/task.yaml`
2. All edits happen inside the task's worktree (`worktrees/<task-id>/`)
3. Tool risk levels are enforced by `policies/tool-risk.json`
4. MCP server trust is configured in `policies/mcp-trust.json`

## mcp-servers.json (legacy — moved to policies/mcp-trust.json)

Defines upstream MCP servers that `clawd` connects to as a client.
If the file is absent, no upstream servers are configured.

## templates/

Meta-prompt templates for agent roles. The daemon loads these when
constructing system prompts for orchestrated agent sessions. Each file
documents the role, constraints, and expected I/O format for that agent type.

## Generated by

`clawd init-claw` creates and validates this structure.
Run `clawd init-claw` if any required directories are missing.
